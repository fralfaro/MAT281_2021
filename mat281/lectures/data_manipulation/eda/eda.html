
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Caso Aplicado &#8212; MAT281 - Aplicaciones de la Matemática en la Ingeniería</title>
    
  <link href="../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/togglebutton.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../../../_static/utfsm.png"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Introducción" href="../../ml/introduccion_ml/introduccion.html" />
    <link rel="prev" title="Introducción" href="intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../index.html">
      
      <img src="../../../../_static/utfsm.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">MAT281 - Aplicaciones de la Matemática en la Ingeniería</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../index.html">
   Home
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Herramientas Básicas
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../basic_tools/lecture_000_intro.html">
   Introducción
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basic_tools/lecture_000_configuraciones.html">
     Configuraciones
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../basic_tools/lecture_011_os.html">
   Linux
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../basic_tools/lecture_015_git.html">
   Git
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../basic_tools/lecture_013_ide.html">
   IDE’s
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../basic_tools/lecture_016_venv.html">
   Virtual Environment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../basic_tools/lecture_012_python.html">
   Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../basic_tools/lecture_014_jupyter.html">
   Jupyter
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Computación cientifica
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../scientific_computing/numpy.html">
   Numpy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../scientific_computing/scipy.html">
   SciPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../scientific_computing/sympy.html">
   Sympy
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Manipulación de datos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../data_manipulation/base_datos.html">
   Base de datos
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../data_manipulation/pandas/pandas.html">
   Pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_manipulation/modulos_pandas/groupby.html">
     Groupby
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_manipulation/modulos_pandas/merge_concat.html">
     Merge &amp; Concat
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_manipulation/modulos_pandas/pivot.html">
     Pivot
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data_manipulation/sqlalchemy/sqlalchemy.html">
   SQLAlchemy
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Visualización
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualizacion/introduction.html">
   Introducción
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../visualization/visualizacion/imperativa.html">
   Visualización Imperativa
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../visualization/visualizacion/matplotlib.html">
     Matplotlib
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../visualization/visualizacion/declarativa.html">
   Visualización Declarativa
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../visualization/visualizacion/seaborn.html">
     Seaborn
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Análisis exploratorio de datos
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introducción
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Caso Aplicado
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Machine Learning
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../ml/introduccion_ml/introduccion.html">
   Introducción
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ml/analisis_supervisado_regresion/intro.html">
   Aprendizaje supervisado - Regresión
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ml/analisis_supervisado_regresion/02_regresion_lineal.html">
     Modelos de regressión lineal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ml/analisis_supervisado_regresion/02_modelos_regresion.html">
     Modelos de regressión multiple
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ml/analisis_supervisado_clasificacion/intro.html">
   Aprendizaje supervisado - Clasificación
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ml/analisis_supervisado_clasificacion/02_clasificacion.html">
     Modelo de regresión logística
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ml/introduccion_ml/no_supervisados.html">
   Aprendizaje no supervisado
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ml/analisis_no_supervisado/03_clustering.html">
     Clustering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ml/analisis_no_supervisado/03_reduccion_dimensionalidad.html">
     Reducción de dimensionalidad
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ml/overfitting/04_overfitting_underfitting.html">
   Overfitting
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ml/overfitting/04_reducir_overfitting.html">
     Reducir el overfitting
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ml/time_series/05_series_temporales.html">
   Series Temporales
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../_sources/mat281/lectures/data_manipulation/eda/eda.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/fralfaro/MAT281_2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/fralfaro/MAT281_2021/master?urlpath=lab/tree/mat281/lectures/data_manipulation/eda/eda.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/fralfaro/MAT281_2021/blob/master/mat281/lectures/data_manipulation/eda/eda.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bases-del-experimento">
   Bases del experimento
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conjunto-de-datos">
   Conjunto de datos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#checklist-del-experimento">
   Checklist del experimento
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#columna-ano">
     Columna: Año
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#columna-pais">
     Columna: País
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#columna-magnitud">
     Columna: Magnitud
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#columna-informacion">
     Columna: Información
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#solucion">
     Solución
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#referencia">
   Referencia
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="caso-aplicado">
<h1>Caso Aplicado<a class="headerlink" href="#caso-aplicado" title="Permalink to this headline">¶</a></h1>
<p><img alt="image info" src="../../../../_images/logo_terremoto1.png" /></p>
<p>EL dataset <code class="docutils literal notranslate"><span class="pre">terremotos.csv</span></code> contiene la información de los terremotos de los países durante el año 2000 al 2011. Debido a que la información de este dataset es relativamente fácil de trabajar, hemos creado un dataset denominado <code class="docutils literal notranslate"><span class="pre">terremotos_contaminados.csv</span></code> que posee información contaminada en cada una de sus columnas. De esta forma se podrá ilustrar los distintos inconvenientes que se puede tener en el análisis exploratorio de datos.</p>
<div class="section" id="bases-del-experimento">
<h2>Bases del experimento<a class="headerlink" href="#bases-del-experimento" title="Permalink to this headline">¶</a></h2>
<p>Lo primero es identificar las variables que influyen en el estudio y la naturaleza de esta.</p>
<ul class="simple">
<li><p><strong>País</strong>:</p>
<ul>
<li><p>Descripción: País del evento sísmico.</p></li>
<li><p>Tipo de dato: <em>string</em></p></li>
<li><p>Limitantes: No pueden haber nombre de ciudades, comunas o pueblos.</p></li>
</ul>
</li>
<li><p><strong>Año</strong>:</p>
<ul>
<li><p>Descripción: Año del evento sísmico.</p></li>
<li><p>Tipo de dato: <em>integer</em>.</p></li>
<li><p>Limitantes: el año debe estar entre al año 2000 y 2011.</p></li>
</ul>
</li>
<li><p><strong>Magnitud</strong>:</p>
<ul>
<li><p>Descripción: Magnitud del evento sísmico.</p></li>
<li><p>Tipo de dato: <em>float</em>.</p></li>
<li><p>Limitantes: la magnitud puede estar entre 5 y 9.6.</p></li>
</ul>
</li>
</ul>
<p><strong>¿ Por qué no puede ser un terremoto con una intensidad mayor a 9.6?</strong>. Esto se debe a que el terremoto con mayor magnitud registrado por la humanidad es de 9.6, ocurrido en Chile (Valdivia) durante el año 1960. Por lo tanto, entre mayor conocimiento se tenga del fenómeno en estudio, más restrictivo se vulve el análisis exploratorio y más sentido tienen los resultados obtenidos.</p>
</div>
<div class="section" id="conjunto-de-datos">
<h2>Conjunto de datos<a class="headerlink" href="#conjunto-de-datos" title="Permalink to this headline">¶</a></h2>
<p>El conjunto de datos consta de cuatro columnas:</p>
<ul class="simple">
<li><p>País</p></li>
<li><p>Año</p></li>
<li><p>Magnitud</p></li>
<li><p>Información</p></li>
</ul>
</div>
<div class="section" id="checklist-del-experimento">
<h2>Checklist del experimento<a class="headerlink" href="#checklist-del-experimento" title="Permalink to this headline">¶</a></h2>
<p>Dado que conocemos el fenómeno en estudio, vayamos realizando un checklist de los procesos para hacer un correcto EDA.</p>
<p><strong>1. ¿ Qué pregunta (s) estás tratando de resolver (o probar que estás equivocado)?</strong></p>
<p>El objetivo es encontrar el terremoto de mayor magnitud por país en los distintos años.</p>
<p><strong>2. ¿ Qué tipo de datos tienes ?</strong></p>
<p>Los tipos de variables que tiene el conjunto de datos son:</p>
<ul class="simple">
<li><p>Categóricas: País, Información.</p></li>
<li><p>Numéricas: Año, Magnitud.</p></li>
</ul>
<p><img alt="image info" src="../../../../_images/categorias.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cargar librerias</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>  <span class="c1"># Ver más columnas de los dataframes</span>

<span class="c1"># Ver gráficos de matplotlib en jupyter notebook/lab</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cargar datos</span>
<span class="n">terremotos_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span><span class="s2">&quot;terremotos_contaminados.csv&quot;</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Año</th>
      <th>Pais</th>
      <th>Magnitud</th>
      <th>Informacion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2000</td>
      <td>Turkey</td>
      <td>6</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>Turkmenistan</td>
      <td>7</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2000</td>
      <td>Azerbaijan</td>
      <td>6.5</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2000</td>
      <td>Azerbaijan</td>
      <td>6.8</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000</td>
      <td>Papua New Guinea</td>
      <td>8</td>
      <td>info no valiosa</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># normalizar columnas (minusculas y sin espacios)</span>

<span class="n">terremotos_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>año</th>
      <th>pais</th>
      <th>magnitud</th>
      <th>informacion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2000</td>
      <td>Turkey</td>
      <td>6</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>Turkmenistan</td>
      <td>7</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2000</td>
      <td>Azerbaijan</td>
      <td>6.5</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2000</td>
      <td>Azerbaijan</td>
      <td>6.8</td>
      <td>info no valiosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000</td>
      <td>Papua New Guinea</td>
      <td>8</td>
      <td>info no valiosa</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># resumen de la informacion</span>

<span class="k">def</span> <span class="nf">resumen_por_columna</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">cols</span><span class="p">):</span>
    <span class="n">pd_series</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span>
    
    <span class="c1"># elementos distintos </span>
    <span class="n">l_unique</span> <span class="o">=</span> <span class="n">pd_series</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    
    <span class="c1"># elementos vacios</span>
    
    <span class="n">l_vacios</span> <span class="o">=</span> <span class="n">pd_series</span><span class="p">[</span><span class="n">pd_series</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
    
    <span class="n">df_info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">&#39;columna&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">cols</span><span class="p">],</span>
        <span class="s1">&#39;unicos&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">l_unique</span><span class="p">)],</span>
        <span class="s1">&#39;vacios&#39;</span><span class="p">:</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">l_vacios</span><span class="p">)]</span>
    <span class="p">})</span>
    
    <span class="k">return</span> <span class="n">df_info</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">terremotos_data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">aux_df</span> <span class="o">=</span> <span class="n">resumen_por_columna</span><span class="p">(</span><span class="n">terremotos_data</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aux_df</span><span class="p">)</span>
    
<span class="n">df_info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_info</span><span class="p">[</span><span class="s1">&#39;% vacios&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_info</span><span class="p">[</span><span class="s1">&#39;vacios&#39;</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">terremotos_data</span><span class="p">)</span>
<span class="n">df_info</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>columna</th>
      <th>unicos</th>
      <th>vacios</th>
      <th>% vacios</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>año</td>
      <td>17</td>
      <td>2</td>
      <td>0.008772</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pais</td>
      <td>75</td>
      <td>2</td>
      <td>0.008772</td>
    </tr>
    <tr>
      <th>2</th>
      <td>magnitud</td>
      <td>46</td>
      <td>3</td>
      <td>0.013158</td>
    </tr>
    <tr>
      <th>3</th>
      <td>informacion</td>
      <td>4</td>
      <td>8</td>
      <td>0.035088</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">plotting</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;columna&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;unicos&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_info</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;unicos&#39;</span><span class="p">),</span>
    <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Greys_d&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">plotting</span><span class="o">.</span><span class="n">containers</span><span class="p">:</span>
    <span class="n">plotting</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Valores Distintos&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../_images/eda_12_0.png" src="../../../../_images/eda_12_0.png" />
</div>
</div>
<p><strong>¿Qué falta en los datos y cómo los maneja?</strong></p>
<p>En este caso, se tiene la información suficiente para poder realizar el experimento, solo falta ver que los datos de la muestra no esten lo suficientemente contaminados.</p>
<p><strong>¿Qué hacer con los datos faltantes, outliers o información mal inputada?</strong></p>
<p>Este caso es más interesante, y se necesita ir detallando columna por columna los distintos análisis.</p>
<div class="section" id="columna-ano">
<h3>Columna: Año<a class="headerlink" href="#columna-ano" title="Permalink to this headline">¶</a></h3>
<p>Los años distintos en la muestra son:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;2000&#39;, &#39;2001&#39;, &#39;dos mil uno&#39;, &#39;2002&#39;, &#39;2003&#39;, &#39;2004&#39;, &#39;2005&#39;,
       &#39;2006&#39;, &#39;2007&#39;, &#39;2008&#39;, &#39;2009&#39;, &#39;2010&#39;, &#39;2011&#39;, &#39;1997&#39;, &#39;1990&#39;,
       &#39;1999&#39;, nan], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar plot: año</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">plotting</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;año&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">terremotos_data</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Greys_d&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">plotting</span><span class="o">.</span><span class="n">containers</span><span class="p">:</span>
    <span class="n">plotting</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../_images/eda_17_0.png" src="../../../../_images/eda_17_0.png" />
</div>
</div>
<p>Se presentan las siguientes anomalidades:</p>
<ul class="simple">
<li><p><strong>Años sin importancia</strong>: Se ha establecido que los años de estudios son desde el año 2000 al 2011.</p></li>
<li><p><strong>Nombres mal escritos</strong>: en este caso sabemos que ‘dos mil uno’ corresponde a ‘2001’.</p></li>
<li><p><strong>Datos vacío</strong></p></li>
</ul>
<p>Ahora la pregunta es, ¿ qué debemos hacer primero?. Lo primero es corregir la información, dar un formato estándar a los datos y luego filtrar.</p>
<p><strong>a) Corrección</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;dos mil uno&#39;</span><span class="p">,</span><span class="s1">&#39;año&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;2001&#39;</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span><span class="s1">&#39;año&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>

<span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;2000&#39;, &#39;2001&#39;, &#39;2002&#39;, &#39;2003&#39;, &#39;2004&#39;, &#39;2005&#39;, &#39;2006&#39;, &#39;2007&#39;,
       &#39;2008&#39;, &#39;2009&#39;, &#39;2010&#39;, &#39;2011&#39;, &#39;1997&#39;, &#39;1990&#39;, &#39;1999&#39;, &#39;0&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</div>
<p><strong>b) Formato</strong></p>
<p>El formato de los años es <em>integer</em>, por lo tanto se le debe dar ese formato.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>c) Filtro</strong></p>
<p>Se ha establecido que los años de estudios son desde el año 2000 al 2011, por lo tanto los años en estudios deberian ser:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">anios_estudio</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2011</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">anios_estudio</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011]
</pre></div>
</div>
</div>
</div>
<p>Por lo tanto ya tenemo nuestro primer filtro:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask_anio</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;año&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">anios_estudio</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="columna-pais">
<h3>Columna: País<a class="headerlink" href="#columna-pais" title="Permalink to this headline">¶</a></h3>
<p>Los paises distintos en la muestra son:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Afghanistan&#39;,
 &#39;Afghanistan &#39;,
 &#39;Algeria&#39;,
 &#39;Algeria &#39;,
 &#39;Argentina&#39;,
 &#39;Azerbaijan&#39;,
 &#39;Azerbaijan &#39;,
 &#39;Bangladesh&#39;,
 &#39;Burma &#39;,
 &#39;Chile&#39;,
 &#39;Chile &#39;,
 &#39;China&#39;,
 &#39;China &#39;,
 &#39;Colombia&#39;,
 &#39;Costa Rica&#39;,
 &#39;Costa Rica &#39;,
 &#39;Democratic Republic of the Congo&#39;,
 &#39;Democratic Republic of the Congo &#39;,
 &#39;Dominican Republic&#39;,
 &#39;Ecuador&#39;,
 &#39;El Salvador &#39;,
 &#39;Greece&#39;,
 &#39;Greece &#39;,
 &#39;Guadeloupe&#39;,
 &#39;Guatemala&#39;,
 &#39;Haiti &#39;,
 &#39;India&#39;,
 &#39;India &#39;,
 &#39;Indonesia&#39;,
 &#39;Indonesia &#39;,
 &#39;Iran&#39;,
 &#39;Iran &#39;,
 &#39;Iran, 2005 Qeshm earthquake&#39;,
 &#39;Italy&#39;,
 &#39;Italy &#39;,
 &#39;Japan&#39;,
 &#39;Japan &#39;,
 &#39;Kazakhstan&#39;,
 &#39;Kyrgyzstan &#39;,
 &#39;Martinique&#39;,
 &#39;Mexico &#39;,
 &#39;Morocco&#39;,
 &#39;Morocco &#39;,
 &#39;Mozambique&#39;,
 &#39;New Zealand&#39;,
 &#39;New Zealand &#39;,
 &#39;Nicaragua&#39;,
 &#39;Pakistan&#39;,
 &#39;Pakistan &#39;,
 &#39;Panama&#39;,
 &#39;Papua New Guinea&#39;,
 &#39;Peru&#39;,
 &#39;Peru &#39;,
 &#39;Philippines&#39;,
 &#39;Russian Federation&#39;,
 &#39;Rwanda&#39;,
 &#39;Samoa &#39;,
 &#39;Serbia&#39;,
 &#39;Slovenia&#39;,
 &#39;Solomon Islands &#39;,
 &#39;Taiwan&#39;,
 &#39;Taiwan &#39;,
 &#39;Tajikistan&#39;,
 &#39;Tajikistan &#39;,
 &#39;Tanzania&#39;,
 &#39;Tanzania &#39;,
 &#39;Turkey&#39;,
 &#39;Turkey &#39;,
 &#39;Turkmenistan&#39;,
 &#39;United States &#39;,
 &#39;Venezuela&#39;,
 &#39;Vietnam&#39;,
 &#39;arica&#39;,
 nan,
 &#39;shile&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar plot: pais</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">14</span><span class="p">))</span>

<span class="n">plotting</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pais&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">terremotos_data</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="n">terremotos_data</span><span class="o">.</span><span class="n">pais</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Greys_d&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">plotting</span><span class="o">.</span><span class="n">containers</span><span class="p">:</span>
    <span class="n">plotting</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../_images/eda_30_0.png" src="../../../../_images/eda_30_0.png" />
</div>
</div>
<p>Se presentan las siguientes anomalidades:</p>
<ul class="simple">
<li><p><strong>Formato de los nombres</strong>: no se le ha aplicado <em>strip()</em> y <em>lower()</em>, por lo cual tenemos casos como: ‘Turkey’ y ‘Turkey ’ como elementos diferentes.</p></li>
<li><p><strong>Nombres mal escritos</strong>: en este caso sabemos que ‘shile’ corresponde a ‘Chile’ e ‘Iran, 2005 Qeshm earthquake’ corrsponde a ‘Iran’.</p></li>
<li><p><strong>Datos vacío</strong></p></li>
</ul>
<p>Se solucionará cada uno de estos inconvenientes:</p>
<p><strong>Corrección de los nombres</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;arica&#39;</span><span class="p">,</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;chile&#39;</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;shile&#39;</span><span class="p">,</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;chile&#39;</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Iran, 2005 Qeshm earthquake&#39;</span><span class="p">,</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;iran&#39;</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sin_nombre&#39;</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Formato</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># correccion formato de nombre </span>
<span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Filtro</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask_pais</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;pais&#39;</span><span class="p">]</span><span class="o">!=</span><span class="s1">&#39;sin_nombre&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="columna-magnitud">
<h3>Columna: Magnitud<a class="headerlink" href="#columna-magnitud" title="Permalink to this headline">¶</a></h3>
<p>Las magnitudes distintas en la muestra son:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;6&#39;, &#39;7&#39;, &#39;6.5&#39;, &#39;6.8&#39;, &#39;8&#39;, &#39;5.7&#39;, &#39;6.4&#39;, &#39;5.5&#39;, &#39;6.3&#39;, &#39;5.4&#39;,
       &#39;6.1&#39;, &#39;6.7&#39;, &#39;7.9&#39;, &#39;7.2&#39;, &#39;7.5&#39;, &#39;5.3&#39;, &#39;5.9&#39;, &#39;9.7&#39;, &#39;5.8&#39;,
       &#39;4.7&#39;, &#39;7.6&#39;, &#39;8.4&#39;, &#39;5&#39;, &#39;5.6&#39;, &#39;6.6&#39;, &#39;6.2&#39;, &#39;7.1&#39;, &#39;7.3&#39;, &#39;5.1&#39;,
       &#39;5.2&#39;, &#39;8.3&#39;, &#39;6.9&#39;, &#39;9.1&#39;, &#39;4.9&#39;, &#39;7.8&#39;, &#39;8.6&#39;, &#39;7.7&#39;, &#39;7.4&#39;,
       &#39;8.5&#39;, &#39;8.1&#39;, &#39;8.8&#39;, &#39;9&#39;, &#39;-10&#39;, nan, &#39;2002-Tanzania-5.8&#39;,
       &#39;2003-japan-8.5&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar plot: magnitud</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">plotting</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;magnitud&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">terremotos_data</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;Greys_d&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">plotting</span><span class="o">.</span><span class="n">containers</span><span class="p">:</span>
    <span class="n">plotting</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../../_images/eda_39_0.png" src="../../../../_images/eda_39_0.png" />
</div>
</div>
<p>Se presentan las siguientes anomalidades:</p>
<ul class="simple">
<li><p><strong>Magnitudes sin importancia</strong>: Se ha establecido que las magnitudes de un terremoto son de 5 a 9.6.</p></li>
<li><p><strong>Datos con información comprimida</strong>: Debido a una inputación incorrecta de los datos o a una mala lectura, la información se concentra en una celda.</p></li>
<li><p><strong>Datos vacío</strong></p></li>
</ul>
<p><strong>Corrección de las magnitudes</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># caso: tradicional</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;2002-Tanzania-5.8&#39;</span><span class="p">,</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;2003-japan-8.5&#39;</span><span class="p">,</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">(),</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># caso: informacion comprimida</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2002</span><span class="p">,</span><span class="s1">&#39;tanzania&#39;</span><span class="p">,</span><span class="s1">&#39;5.8&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2003</span><span class="p">,</span><span class="s1">&#39;japan&#39;</span><span class="p">,</span><span class="s1">&#39;8.5&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">terremotos_data</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>año</th>
      <th>pais</th>
      <th>magnitud</th>
      <th>informacion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>225</th>
      <td>0</td>
      <td>sin_nombre</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>226</th>
      <td>0</td>
      <td>sin_nombre</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>227</th>
      <td>2005</td>
      <td>chile</td>
      <td>8</td>
      <td>valiosa</td>
    </tr>
    <tr>
      <th>228</th>
      <td>2002</td>
      <td>tanzania</td>
      <td>5.8</td>
      <td>-</td>
    </tr>
    <tr>
      <th>229</th>
      <td>2003</td>
      <td>japan</td>
      <td>8.5</td>
      <td>-</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Corrección formato de las magnitudes</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([  6. ,   7. ,   6.5,   6.8,   8. ,   5.7,   6.4,   5.5,   6.3,
         5.4,   6.1,   6.7,   7.9,   7.2,   7.5,   5.3,   5.9,   9.7,
         5.8,   4.7,   7.6,   8.4,   5. ,   5.6,   6.6,   6.2,   7.1,
         7.3,   5.1,   5.2,   8.3,   6.9,   9.1,   4.9,   7.8,   8.6,
         7.7,   7.4,   8.5,   8.1,   8.8,   9. , -10. ,   0. ])
</pre></div>
</div>
</div>
</div>
<p><strong>c) Filtro de las magnitudes</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask_mag_inf</span> <span class="o">=</span>  <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">5</span>
<span class="n">mask_mag_sup</span> <span class="o">=</span>  <span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;magnitud&#39;</span><span class="p">]</span><span class="o">&lt;=</span><span class="mf">9.6</span>

<span class="n">mask_mag</span> <span class="o">=</span> <span class="n">mask_mag_inf</span> <span class="o">&amp;</span> <span class="n">mask_mag_sup</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="columna-informacion">
<h3>Columna: Información<a class="headerlink" href="#columna-informacion" title="Permalink to this headline">¶</a></h3>
<p>La cantidad de elementos distintos para la columna <strong>información</strong> son:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="p">[</span><span class="s1">&#39;informacion&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;info no valiosa&#39;, &#39;info valiosa&#39;, nan, &#39;valiosa&#39;, &#39;-&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</div>
<p>Se observa que esta columna no aporta información valiosa al estudio, quedando excluida para cualquier análisis importante.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;informacion&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terremotos_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>año</th>
      <th>pais</th>
      <th>magnitud</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2000</td>
      <td>turkey</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>turkmenistan</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2000</td>
      <td>azerbaijan</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2000</td>
      <td>azerbaijan</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000</td>
      <td>papua new guinea</td>
      <td>8.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>5. ¿Se puede sacar más provecho a los datos ?</strong></p>
<p>Una vez realizado toda la limpieza de datos, debemos filtrar la información que se considere importante.</p>
<ul class="simple">
<li><p><strong>Años</strong>: Años desde el 2000 al 2011.</p></li>
<li><p><strong>País</strong>: Paises con nombre distinto de <em>sin_nombre</em></p></li>
<li><p><strong>Magnitud</strong>: Magnitud entre 5 y 9.6.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># aplicar filtros</span>
<span class="n">terremotos_data_filtrado</span> <span class="o">=</span> <span class="n">terremotos_data</span><span class="p">[</span><span class="n">mask_anio</span> <span class="o">&amp;</span> <span class="n">mask_pais</span> <span class="o">&amp;</span> <span class="n">mask_mag</span><span class="p">]</span>
<span class="n">terremotos_data_filtrado</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>año</th>
      <th>pais</th>
      <th>magnitud</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2000</td>
      <td>turkey</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>turkmenistan</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2000</td>
      <td>azerbaijan</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2000</td>
      <td>azerbaijan</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000</td>
      <td>papua new guinea</td>
      <td>8.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Veamos cuánta información se perdio:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cantidad de filas dataset sin filtro:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">terremotos_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cantidad de filas dataset con filtro:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">terremotos_data_filtrado</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas dataset sin filtro: 230
Cantidad de filas dataset con filtro: 212
</pre></div>
</div>
</div>
</div>
<p>Ahora veamos el el resumen de la información para el nuevo dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">terremotos_data_filtrado</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">aux_df</span> <span class="o">=</span> <span class="n">resumen_por_columna</span><span class="p">(</span><span class="n">terremotos_data_filtrado</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aux_df</span><span class="p">)</span>
    
<span class="n">df_info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_info</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>columna</th>
      <th>unicos</th>
      <th>vacios</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>año</td>
      <td>12</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pais</td>
      <td>50</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>magnitud</td>
      <td>39</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Finalmente, podemos responder la pregunta del inicio:</p>
</div>
<div class="section" id="solucion">
<h3>Solución<a class="headerlink" href="#solucion" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># formato wide</span>
<span class="n">terremotos_data_filtrado</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;pais&quot;</span><span class="p">,</span> 
                                     <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;año&quot;</span><span class="p">,</span>
                                     <span class="n">values</span><span class="o">=</span><span class="s2">&quot;magnitud&quot;</span><span class="p">,</span> 
                                     <span class="n">fill_value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> 
                                     <span class="n">aggfunc</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-31-8c1a5edb19d8&gt;:6: FutureWarning: The pandas.np module is deprecated and will be removed from pandas in a future version. Import numpy directly instead
  aggfunc=pd.np.max)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>año</th>
      <th>2000</th>
      <th>2001</th>
      <th>2002</th>
      <th>2003</th>
      <th>2004</th>
      <th>2005</th>
      <th>2006</th>
      <th>2007</th>
      <th>2008</th>
      <th>2009</th>
      <th>2010</th>
      <th>2011</th>
    </tr>
    <tr>
      <th>pais</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>afghanistan</th>
      <td>6.3</td>
      <td>5.0</td>
      <td>7.3</td>
      <td>5.8</td>
      <td>6.5</td>
      <td>6.5</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>algeria</th>
      <td>5.7</td>
      <td></td>
      <td></td>
      <td>6.8</td>
      <td></td>
      <td></td>
      <td>5.2</td>
      <td></td>
      <td>5.5</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>argentina</th>
      <td>7.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>azerbaijan</th>
      <td>6.8</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>bangladesh</th>
      <td></td>
      <td></td>
      <td></td>
      <td>5.6</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>burma</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>chile</th>
      <td></td>
      <td>6.3</td>
      <td></td>
      <td></td>
      <td></td>
      <td>8.0</td>
      <td></td>
      <td>7.7</td>
      <td></td>
      <td></td>
      <td>8.8</td>
      <td></td>
    </tr>
    <tr>
      <th>china</th>
      <td>5.9</td>
      <td>5.6</td>
      <td>5.5</td>
      <td>6.3</td>
      <td>5.3</td>
      <td>5.2</td>
      <td>5.0</td>
      <td>6.1</td>
      <td>7.9</td>
      <td>5.7</td>
      <td>6.9</td>
      <td>5.4</td>
    </tr>
    <tr>
      <th>colombia</th>
      <td>6.5</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.9</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>costa rica</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.4</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.1</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>democratic republic of the congo</th>
      <td></td>
      <td></td>
      <td>6.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.9</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>dominican republic</th>
      <td></td>
      <td></td>
      <td></td>
      <td>6.4</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>ecuador</th>
      <td>5.5</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>el salvador</th>
      <td></td>
      <td>7.6</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>greece</th>
      <td></td>
      <td></td>
      <td>6.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.4</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>guadeloupe</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.3</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>guatemala</th>
      <td></td>
      <td></td>
      <td></td>
      <td>6.4</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>haiti</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>7.0</td>
      <td></td>
    </tr>
    <tr>
      <th>india</th>
      <td></td>
      <td>7.6</td>
      <td>6.5</td>
      <td></td>
      <td></td>
      <td>5.1</td>
      <td>5.3</td>
      <td>5.1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.9</td>
    </tr>
    <tr>
      <th>indonesia</th>
      <td>7.9</td>
      <td></td>
      <td>7.5</td>
      <td>6.9</td>
      <td>9.1</td>
      <td>8.6</td>
      <td>7.7</td>
      <td>8.5</td>
      <td>7.3</td>
      <td>7.6</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>iran</th>
      <td>5.3</td>
      <td></td>
      <td>6.5</td>
      <td>6.6</td>
      <td>6.3</td>
      <td>6.4</td>
      <td>6.1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>italy</th>
      <td></td>
      <td></td>
      <td>5.9</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.2</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>japan</th>
      <td>6.1</td>
      <td>6.8</td>
      <td></td>
      <td>8.3</td>
      <td>6.6</td>
      <td>6.6</td>
      <td></td>
      <td>6.7</td>
      <td>6.9</td>
      <td>6.4</td>
      <td></td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>kazakhstan</th>
      <td></td>
      <td></td>
      <td></td>
      <td>6.0</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>kyrgyzstan</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.9</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>martinique</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>7.4</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>mexico</th>
      <td></td>
      <td></td>
      <td></td>
      <td>7.5</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>morocco</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.3</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>mozambique</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>7.0</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>new zealand</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.4</td>
      <td></td>
      <td></td>
      <td>6.6</td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.3</td>
    </tr>
    <tr>
      <th>nicaragua</th>
      <td>5.4</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>pakistan</th>
      <td></td>
      <td></td>
      <td>6.3</td>
      <td></td>
      <td>5.4</td>
      <td>7.6</td>
      <td></td>
      <td>5.2</td>
      <td>6.4</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>panama</th>
      <td></td>
      <td></td>
      <td></td>
      <td>6.5</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>papua new guinea</th>
      <td>8.0</td>
      <td></td>
      <td>7.6</td>
      <td></td>
      <td></td>
      <td>6.1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>peru</th>
      <td></td>
      <td>8.4</td>
      <td></td>
      <td></td>
      <td></td>
      <td>7.5</td>
      <td></td>
      <td>8.0</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>philippines</th>
      <td></td>
      <td></td>
      <td>7.5</td>
      <td>6.5</td>
      <td></td>
      <td>7.1</td>
      <td></td>
      <td>5.3</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>russian federation</th>
      <td></td>
      <td></td>
      <td></td>
      <td>7.3</td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>rwanda</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.3</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>samoa</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>8.1</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>serbia</th>
      <td></td>
      <td></td>
      <td>5.7</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>slovenia</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>solomon islands</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>8.1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>taiwan</th>
      <td>6.4</td>
      <td></td>
      <td>7.1</td>
      <td></td>
      <td>5.2</td>
      <td></td>
      <td>7.0</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>tajikistan</th>
      <td></td>
      <td></td>
      <td>5.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.6</td>
      <td>5.2</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>tanzania</th>
      <td>6.4</td>
      <td></td>
      <td>5.5</td>
      <td></td>
      <td></td>
      <td>6.8</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>turkey</th>
      <td>6.0</td>
      <td></td>
      <td>6.5</td>
      <td>6.3</td>
      <td>5.6</td>
      <td>5.9</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>6.1</td>
      <td>7.1</td>
    </tr>
    <tr>
      <th>turkmenistan</th>
      <td>7.0</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>united states</th>
      <td></td>
      <td>6.8</td>
      <td></td>
      <td>6.6</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>venezuela</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.5</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>vietnam</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.3</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>¿ Podemos sacar más información ?. Por supuesto que se puede, no obstante, siempre se debe ser preciso con la información que se</p>
<p><strong>Conclusión del caso</strong></p>
<ul class="simple">
<li><p>El análisis exploratorio de datos (EDA) es una metodología que sirve para asegurarse de la calidad de los datos.</p></li>
<li><p>A medida que se tiene más expertice en el tema, mejor es el análisis de datos y por tanto, mejor son los resultados obtenidos.</p></li>
<li><p>No existe un procedimiento estándar para realizar el EDA, pero siempre se debe tener una claridad mental con:</p>
<ul>
<li><p>Problema que se quiere resolverlo</p></li>
<li><p>Cómo resolver el problema</p></li>
<li><p>Posibles problemas de la muestra (datos perdidos, ouliers, etc.)</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="referencia">
<h2>Referencia<a class="headerlink" href="#referencia" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p><a class="reference external" href="https://www.kaggle.com/ekami66/detailed-exploratory-data-analysis-with-python">Detailed exploratory data analysis with python</a></p></li>
<li><p><a class="reference external" href="https://kite.com/blog/python/data-analysis-visualization-python/">Exploratory Data Analysis (EDA) and Data Visualization with Python</a></p></li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./mat281/lectures/data_manipulation/eda"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="intro.html" title="previous page">Introducción</a>
    <a class='right-next' id="next-link" href="../../ml/introduccion_ml/introduccion.html" title="next page">Introducción</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Francisco Alfaro Medina<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-177357392-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </body>
</html>